<button id="send-notification-btn">Send notification</button>

<script>
    const eventSource = new EventSource('/notifications/sse');
    /* Soit via l'utilisation de la méthode "onopen" */
    eventSource.onopen = () => {
        console.log('connection OPEN');
    };
    /* Ou via l'ajout d'un gestionnaire d'événement "open" */
    eventSource.addEventListener('open', () => {
        console.log('connected')
    });

    eventSource.addEventListener('message', (event) => {
        console.log(event.data);
    });

    document.getElementById('send-notification-btn').addEventListener('click', () => {
        fetch('/notification/create', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwiZW1haWwiOiJhbnRob255QGdob3N0cmlkZXIuZnIiLCJpYXQiOjE2NzExMTA4MDAsImV4cCI6MTY3MTI4MzYwMH0.k0zl5p3zHfwyhQjGjzxTFjFbCrNSt3CvfzUmNFBvZaQ'
            },
            body: JSON.stringify({
                user: {
                    
                }

            })
        });
    });
</script>